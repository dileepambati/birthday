<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" type="image/png" href="favicon.png">
<title>Happy Birthday ‚Äî Send an Anonymous Wish!</title>
<style>
  :root{--bg:#0f1724;--card:#0b1220;--accent:#ffb86b;--muted:#9aa4b2}
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Inter,system-ui,Arial,sans-serif;
    background:linear-gradient(180deg,#071229 0%, #071b2f 100%);
    color:#e6eef8;
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:100vh;
    padding:24px;
  }
  .container{max-width:920px;width:100%;}
  header{display:grid;grid-template-columns:120px 1fr;gap:20px;align-items:center}
  .photo{width:120px;height:120px;border-radius:14px;overflow:hidden;flex-shrink:0;border:3px solid rgba(255,255,255,0.06)}
  .photo img{width:100%;height:100%;object-fit:cover;display:block}
  h1{margin:0;font-size:1.6rem}
  p.lead{margin:6px 0 0;color:var(--muted)}
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding:18px;border-radius:12px;margin-top:20px;
    box-shadow:0 6px 20px rgba(2,6,23,0.6)
  }
  form{display:grid;gap:12px}
  input[type=text],textarea{
    width:100%;padding:10px;border-radius:8px;
    border:1px solid rgba(255,255,255,0.04);
    background:transparent;color:inherit;font-size:0.95rem
  }
  textarea{min-height:90px;resize:vertical}
  .row{display:flex;gap:12px}
  .btn{
    background:var(--accent);
    border:none;padding:10px 14px;
    border-radius:10px;color:#051225;
    font-weight:600;cursor:pointer
  }
  .muted{color:var(--muted);font-size:0.9rem}
  .messages{display:grid;gap:10px;margin-top:14px}
  .msg{padding:10px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.02)}
  .msg .meta{font-size:0.8rem;color:var(--muted);margin-bottom:6px}
  .empty{color:var(--muted);text-align:center;padding:18px}
  footer{margin-top:18px;color:var(--muted);font-size:0.85rem;text-align:center}
  .top-actions{display:flex;gap:8px;align-items:center}
  label.small{font-size:0.85rem;color:var(--muted);display:flex;gap:8px;align-items:center}
  .hint{font-size:0.85rem;color:var(--muted)}
  .toast{position:fixed;right:20px;bottom:20px;background:#0c1b2a;padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 6px 20px rgba(2,6,23,0.6)}

  /* === GALLERY STYLES === */
  .gallery-container {
    position: relative;
    width: 100%;
    max-width: 900px;
    height: 300px;
    margin: 0 auto 30px auto;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 8px 25px rgba(0,0,0,0.4);
  }
  .gallery-slide img {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 1s ease;
  }
  .gallery-slide img.active {
    opacity: 1;
  }
  .gallery-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.4);
    color: white;
    border: none;
    font-size: 24px;
    padding: 8px 14px;
    cursor: pointer;
    border-radius: 50%;
    user-select: none;
  }
  .gallery-btn:hover {
    background: rgba(0,0,0,0.6);
  }
  .gallery-btn.prev { left: 12px; }
  .gallery-btn.next { right: 12px; }

  /* Stylish Music Button */
  #musicButton {
    position: fixed;
    top: 20px;
    right: 25px;
    padding: 12px 25px;
    border: none;
    border-radius: 30px;
    background: linear-gradient(45deg, #ff6a00, #ee0979);
    color: white;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 0 20px rgba(255, 100, 100, 0.5);
    transition: all 0.3s ease-in-out;
    z-index: 100;
  }
  #musicButton:hover {
    transform: scale(1.08);
    box-shadow: 0 0 30px rgba(255, 0, 150, 0.8);
  }
  #musicButton:active {
    transform: scale(0.95);
  }

  @media(max-width:640px){
    header{grid-template-columns:1fr;grid-auto-rows:auto;text-align:center}
    .top-actions{justify-content:center}
    .photo{margin:0 auto}
    .gallery-container{height:220px;}
    .gallery-btn{font-size:20px;}
  }
</style>
</head>
<body>

<!-- Background Music -->
<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>
<button id="musicButton">‚ñ∂ Play Music</button>

<div class="container">

  <!-- === PHOTO GALLERY SECTION === -->
  <div class="gallery-container">
    <div class="gallery-slide">
      <img src="gallery1.jpg" alt="Gallery 1" class="active">
      <img src="gallery2.jpg" alt="Gallery 2">

    </div>
    <button class="gallery-btn prev" id="prevBtn">‚ùÆ</button>
    <button class="gallery-btn next" id="nextBtn">‚ùØ</button>
  </div>

  <header>
    <div class="photo" id="photoHolder">
      <img src="friend.jpg" alt="Friend photo" id="friendPhoto">
    </div>
    <div>
      <h1 id="title">Happy Birthday, <span id="friendName">Doggy AKA Vikas Reddy</span> üçªüéâ</h1>
      <p class="lead">Share a short wish or message anonymously ‚Äî I will display them below. Be kind and respectful.</p>
      <div class="top-actions" style="margin-top:10px">
        <span class="hint">Share this page link with others so they can add a message.</span>
      </div>
    </div>
  </header>

  <div class="card" style="margin-top:18px">
    <form id="wishForm">
      <input type="text" id="name" placeholder="Your name (optional)">
      <textarea id="message" placeholder="Write your birthday wish here..." required></textarea>
      <div class="row" style="align-items:center">
        <label class="small"><input type="checkbox" id="sendAnon" checked> Send anonymously</label>
        <div style="flex:1"></div>
        <button class="btn" type="submit">Send Wish</button>
      </div>
    </form>

    <div class="messages" id="messages"></div>
    <div class="empty" id="emptyNote">No wishes yet ‚Äî be the first to write one!</div>
  </div>

  <footer>Made with ‚ù§Ô∏è By Dileep Ambati</footer>
</div>

<script>
  // === MUSIC BUTTON LOGIC ===
  const audio = document.getElementById("bgMusic");
  const btn = document.getElementById("musicButton");
  let isPlaying = false;

  btn.addEventListener("click", () => {
    if (!isPlaying) {
      audio.play();
      isPlaying = true;
      btn.innerHTML = "‚è∏ Pause Music";
      btn.style.background = "linear-gradient(45deg, #06beb6, #48b1bf)";
    } else {
      audio.pause();
      isPlaying = false;
      btn.innerHTML = "‚ñ∂ Play Music";
      btn.style.background = "linear-gradient(45deg, #ff6a00, #ee0979)";
    }
  });

  // === GALLERY SLIDESHOW LOGIC ===
  document.addEventListener("DOMContentLoaded", () => {
    let currentIndex = 0;
    const slides = document.querySelectorAll(".gallery-slide img");
    const totalSlides = slides.length;
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    let slideInterval;

    function showSlide(index) {
      slides.forEach((img, i) => {
        img.classList.toggle("active", i === index);
      });
    }

    function nextSlide() {
      currentIndex = (currentIndex + 1) % totalSlides;
      showSlide(currentIndex);
    }

    function prevSlide() {
      currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
      showSlide(currentIndex);
    }

    function startAutoSlide() {
      stopAutoSlide();
      slideInterval = setInterval(nextSlide, 6000);
    }

    function stopAutoSlide() {
      if (slideInterval) clearInterval(slideInterval);
    }

    prevBtn.addEventListener("click", () => {
      stopAutoSlide();
      prevSlide();
      startAutoSlide();
    });

    nextBtn.addEventListener("click", () => {
      stopAutoSlide();
      nextSlide();
      startAutoSlide();
    });

    showSlide(currentIndex);
    startAutoSlide();
  });

  // === WISH FORM LOGIC (Local Storage fallback) ===
  const LocalStorageKey = 'birthday_wishes_v1';
  const localStore = {
    async add(msg){
      const arr = JSON.parse(localStorage.getItem(LocalStorageKey) || '[]');
      arr.unshift(msg);
      localStorage.setItem(LocalStorageKey, JSON.stringify(arr.slice(0,200)));
      return msg;
    },
    async list(){
      return JSON.parse(localStorage.getItem(LocalStorageKey) || '[]');
    }
  };

  function renderMessages(){
    localStore.list().then(arr=>{
      const container=document.getElementById('messages');
      const empty=document.getElementById('emptyNote');
      container.innerHTML='';
      if(!arr||arr.length===0){empty.style.display='block';return;}
      empty.style.display='none';
      arr.forEach(m=>{
        const el=document.createElement('div');
        el.className='msg';
        const when=new Date(m.createdAt).toLocaleString();
        el.innerHTML=`<div class="meta">${m.name || 'Anonymous'} ‚Ä¢ <span class="muted">${when}</span></div>
                      <div class="text">${m.text}</div>`;
        container.appendChild(el);
      });
    });
  }

  document.getElementById('wishForm').addEventListener('submit', async e=>{
    e.preventDefault();
    const nameEl=document.getElementById('name');
    const msgEl=document.getElementById('message');
    const anon=document.getElementById('sendAnon').checked;
    const raw=msgEl.value.trim();
    if(!raw) return alert('Please write a short wish.');
    const payload={name: anon?'':(nameEl.value.trim()||''), text: raw, createdAt: new Date().toISOString()};
    await localStore.add(payload);
    msgEl.value=''; nameEl.value=''; document.getElementById('sendAnon').checked=true;
    renderMessages();
  });

  renderMessages();
</script>
</body>
</html>
